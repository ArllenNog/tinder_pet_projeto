{% extends 'base.html' %}
{% load static %}
{% block conteudo %}
<div class="row g-0" id="meu-perfil">
    <div class="d-flex flex-column col-3 mw-sidebar text-center" id="barra-lateral">
        <!--<h2 class="tinder-pet-titulo2">Meu perfil</h2>-->
        <ul class="nav nav-pills flex-column mb-auto">
        <li class="d-flex justify-content-center {% if opcao == '0' %} selected-fill {% endif %} p-2 w-100" id="meu-dados-btn">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" x="0" y="0" viewBox="0 0 512 512" xml:space="preserve" class="float-start m-1">
                <g id="meu-dados-btn-icon" {% if opcao == '0' %} style="fill: white" {% else %} style="fill: #5ab031" {% endif %}>
                    <path d="M446.605 124.392 326.608 4.395A15.02 15.02 0 0 0 316 0H106C81.187 0 61 20.187 61 45v422c0 24.813 20.187 45 45 45h300c24.813 0 45-20.187 45-45V135c0-4.09-1.717-7.931-4.395-10.608zM331 51.213 399.787 120H346c-8.271 0-15-6.729-15-15zM406 482H106c-8.271 0-15-6.729-15-15V45c0-8.271 6.729-15 15-15h195v75c0 24.813 20.187 45 45 45h75v317c0 8.271-6.729 15-15 15z" opacity="1"></path>
                    <path d="M346 212H166c-8.284 0-15 6.716-15 15s6.716 15 15 15h180c8.284 0 15-6.716 15-15s-6.716-15-15-15zM346 272H166c-8.284 0-15 6.716-15 15s6.716 15 15 15h180c8.284 0 15-6.716 15-15s-6.716-15-15-15zM346 332H166c-8.284 0-15 6.716-15 15s6.716 15 15 15h180c8.284 0 15-6.716 15-15s-6.716-15-15-15zM286 392H166c-8.284 0-15 6.716-15 15s6.716 15 15 15h120c8.284 0 15-6.716 15-15s-6.716-15-15-15z" opacity="1"></path>
                </g>
            </svg>
            <a href="#" class="nav-link text-white p-0">Dados</a>
        </li>
        <li class="d-flex justify-content-center {% if opcao == '1' %} selected-fill {% endif %} p-2 w-100" id="meus-anuncios-btn">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" x="0" y="0" viewBox="0 0 512 512" xml:space="preserve" class="float-start m-1">
                <g id="meus-anuncios-btn-icon" {% if opcao == '1' %} style="fill: white" {% else %} style="fill: #5ab031" {% endif %}>
                    <path d="M376 30c-27.783 0-53.255 8.804-75.707 26.168-21.525 16.647-35.856 37.85-44.293 53.268-8.437-15.419-22.768-36.621-44.293-53.268C189.255 38.804 163.783 30 136 30 58.468 30 0 93.417 0 177.514c0 90.854 72.943 153.015 183.369 247.118 18.752 15.981 40.007 34.095 62.099 53.414C248.38 480.596 252.12 482 256 482s7.62-1.404 10.532-3.953c22.094-19.322 43.348-37.435 62.111-53.425C439.057 330.529 512 268.368 512 177.514 512 93.417 453.532 30 376 30z" opacity="1"></path>
                </g>
            </svg>
            <a href="#" class="nav-link text-white p-0">Doações</a>
        </li>
        <!--<li class="d-flex justify-content-center {% if opcao == '2' %} selected-fill {% endif %} p-2 w-100" id="notificacoes-btn">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" x="0" y="0" viewBox="0 0 100 100" xml:space="preserve" class="float-start m-1">
                <g id="notificacoes-btn-icon" {% if opcao == '2' %} style="fill: white" {% else %} style="fill: #5ab031" {% endif %}>
                    <path d="M49.96 2.5a3.165 3.165 0 0 0-3.128 3.22v9.693c-14.177 1.586-25.3 13.72-25.3 28.298v12.634c0 5.04-.934 9.18-3.74 12.499-2.554 3.021-3.053 7.005-1.749 10.236 1.304 3.231 4.61 5.742 8.642 5.742h50.624c4.045 0 7.35-2.528 8.666-5.767s.832-7.258-1.798-10.255c-2.233-2.544-3.715-8.623-3.715-12.455V43.711c0-14.572-11.132-26.695-25.3-28.292V5.721A3.165 3.165 0 0 0 49.96 2.5zM37.424 91.158C40.32 94.982 44.86 97.5 49.997 97.5s9.677-2.518 12.573-6.342zM21.928 15.184a3.165 3.165 0 0 0-2.436 1.076c-6.57 7.292-10.631 16.939-10.631 27.45a3.165 3.165 0 1 0 6.33 0c0-8.885 3.415-17.014 9-23.21a3.165 3.165 0 0 0-2.263-5.316zm56.033 0a3.165 3.165 0 0 0-2.164 5.316c5.59 6.195 9.013 14.32 9.013 23.211a3.165 3.165 0 1 0 6.33 0c0-10.519-4.068-20.162-10.645-27.451a3.164 3.164 0 0 0-2.534-1.075z" opacity="1"></path>
                </g>
            </svg>
            <a href="#" class="nav-link text-white p-0">Favoritos</a>
        </li>-->
        </ul>
        <hr>
        <div class="dropdown">
        <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
            {% if request.session.user_data.picture %}
            <img src="{{ request.session.user_data.picture }}" alt="" width="32" height="32" class="rounded-circle me-2">
            {% else %}
            <img src="{% static 'images/user.png' %}" alt="" width="32" height="32" class="rounded-circle me-2">
            {% endif %}
            <strong>{{ request.session.user_data.given_name }}</strong>
        </a>
        <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
            <!--<li><a class="dropdown-item" href="#">New project...</a></li>-->
            <!--<li><a class="dropdown-item" href="#">Settings</a></li>-->
            <!--<li><a class="dropdown-item" href="#">Profile</a></li>-->
            <!--<li><hr class="dropdown-divider"></li>-->
            <li><a class="dropdown-item" href="/sair">Sair</a></li>
        </ul>
        </div>
    </div>
    <div class="col" id="card-group">
        <form method="POST" action="{% url 'meuperfil' %}" id="info-form-1">
        <div class="tinder-pet-window" id="card-informacoes" {% if opcao != '0' %} style="display: none;" {% endif %}>
            <h2 class="tinder-pet-titulo2">Informações básicas</h2>
            <hr>
            <div>
                <p><b>Nome: </b>
                    <span class="info-view" id="info-view-nome">{{ user_data.nome }}</span>
                    <input id="info-nome-ipt" class="tinder-pet-input info-edit-input" type="text" name="nome" required>
                </p>
                <p><b>Email: </b>{{ user_data.email }}</p>
                <p><b>Senha: </b>
                    <span class="info-view" id="info-view-senha">••••••</span>
                    <input id="info-senha-ipt" class="tinder-pet-input info-edit-input" type="password" size="8" name="senha" required>
                </p>
                <button type="submit" class="tinder-pet-button tinder-pet-save" id="info-save-btn" style="display: none;">Salvar</button>
                <button type="button" class="tinder-pet-button tinder-pet-danger" id="info-cancel-btn" style="display: none;">Cancelar</button>
                <button type="button" class="tinder-pet-button" id="info-edit-btn">Alterar</button>
            </div>
        </div>
        {% csrf_token %}
        </form>
        
        <form method="POST" action="{% url 'meuperfil' %}" id="info-form-2">
        <div class="tinder-pet-window" id="card-contato" {% if opcao != '0' %} style="display: none;" {% endif %}>
            <h2 class="tinder-pet-titulo2">Contato</h2>
            <hr>
            <div>
                <p><b>Bairro: </b>
                    <span class="info-view2" id="info-view-bairro">{{user_data.bairro}}</span>
                    <input id="info-bairro-ipt" class="tinder-pet-input info-edit-input2" type="text" name="bairro" required>
                </p>
                <p><b>Cidade: </b>
                    <span class="info-view2" id="info-view-cidade">{{user_data.cidade.cidades}}</span>
                    <select id="info-cidade-ipt" class="tinder-pet-input info-edit-input2" name="cidade" required>
                        {% for c in cidades %}
                        <option>{{c.cidades}}</option>
                        {% endfor %}
                    </select>
                </p>
                <p><b>Telefone: </b>
                    <span class="info-view2" id="info-view-telefone">{{user_data.telefone}}</span>
                    <input id="info-telefone-ipt" class="tinder-pet-input info-edit-input2" type="text" name="telefone" required>
                </p>
                <p><b>Whatsapp: </b>
                    <span class="info-view2" id="info-view-whatsapp">{{user_data.whatsapp}}</span>
                    <input id="info-whatsapp-ipt" class="tinder-pet-input info-edit-input2" type="text" name="whatsapp" required>
                </p>
                <button type="submit" class="tinder-pet-button tinder-pet-save" id="info-save-btn2" style="display: none;">Salvar</button>
                <button type="button" class="tinder-pet-button tinder-pet-danger" id="info-cancel-btn2" style="display: none;">Cancelar</button>
                <button type="button" class="tinder-pet-button" id="info-edit-btn2">Alterar</button>
            </div>
        </div>
        {% csrf_token %}
        </form>

        <div class="tinder-pet-window" id="card-meus-anuncios" {% if opcao != '1' %} style="display: none;" {% endif %}>
            <h2 class="tinder-pet-titulo2">Minhas doações</h2>
            <div>
                <div>
                    {% if user_anuncios.count == 0 %}
                    <label class="tinder-pet-list-item d-flex align-items-center justify-content-between">Você não divulgou nenhum pet para adoção ainda</label>
                    {% endif %}
                    {% for a in user_anuncios %}
                    <a href="{% url 'anuncio' %}?id={{ a.id }}" class="tinder-pet-list-item d-flex align-items-center justify-content-between">
                        <label class="me-3">{{ a.pet__nome }}</label>
                        {% if a.status == 0 %}
                        <label class="tag">
                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="12" height="12" x="0" y="0" viewBox="0 0 23.625 23.625" xml:space="preserve">
                                <g>
                                    <path d="M11.812 0C5.289 0 0 5.289 0 11.812s5.289 11.813 11.812 11.813 11.813-5.29 11.813-11.813S18.335 0 11.812 0zm2.459 18.307c-.608.24-1.092.422-1.455.548a3.838 3.838 0 0 1-1.262.189c-.736 0-1.309-.18-1.717-.539s-.611-.814-.611-1.367c0-.215.015-.435.045-.659a8.23 8.23 0 0 1 .147-.759l.761-2.688c.067-.258.125-.503.171-.731.046-.23.068-.441.068-.633 0-.342-.071-.582-.212-.717-.143-.135-.412-.201-.813-.201-.196 0-.398.029-.605.09-.205.063-.383.12-.529.176l.201-.828c.498-.203.975-.377 1.43-.521a4.225 4.225 0 0 1 1.29-.218c.731 0 1.295.178 1.692.53.395.353.594.812.594 1.376 0 .117-.014.323-.041.617a4.129 4.129 0 0 1-.152.811l-.757 2.68a7.582 7.582 0 0 0-.167.736 3.892 3.892 0 0 0-.073.626c0 .356.079.599.239.728.158.129.435.194.827.194.185 0 .392-.033.626-.097.232-.064.4-.121.506-.17l-.203.827zm-.134-10.878a1.807 1.807 0 0 1-1.275.492c-.496 0-.924-.164-1.28-.492a1.57 1.57 0 0 1-.533-1.193c0-.465.18-.865.533-1.196a1.812 1.812 0 0 1 1.28-.497c.497 0 .923.165 1.275.497.353.331.53.731.53 1.196 0 .467-.177.865-.53 1.193z" fill="white"></path>
                                </g>
                            </svg>
                            Publicado
                        </label>
                        {% else %}
                        <label class="tag2">
                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="12" height="12" x="0" y="0" viewBox="0 0 174.239 174.239" xml:space="preserve" class="">
                                <g>
                                    <path d="M74.439 157.519a4.199 4.199 0 0 1-6.111.313L1.38 94.468a4.447 4.447 0 0 1-.173-6.267l21.33-22.539a4.447 4.447 0 0 1 6.267-.173L65.375 100.1a4.199 4.199 0 0 0 6.111-.313l71.447-83.015a4.445 4.445 0 0 1 6.251-.468l23.518 20.242a4.446 4.446 0 0 1 .468 6.252L74.439 157.519z" fill="white" opacity="1"></path>
                                </g>
                            </svg>
                            Doado
                        </label>
                        {% endif %}
                    </a>
                    {% endfor %}
                </div><br>
                <a href="{% url 'anunciar' %}" class="tinder-pet-button">Nova doação</a>
            </div>
        </div>

        <!--<div class="card m-3" id="card-meus-pets" style="display: none;">
            <div class="card-header">
            Meus pets
            </div>
            <div class="card-body">
                <ul class="list-group">
                    {% if user_pets.count == 0 %}
                    <li class="list-group-item d-flex justify-content-between">Nenhum pet ainda</li>
                    {% endif %}
                    {% for p in user_pets %}
                    <li class="list-group-item d-flex justify-content-between">
                        <a href="#">{{ p.nome }}</a>
                        {% if p.tipo == 0 %}
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" x="0" y="0" viewBox="0 0 512.001 512.001" xml:space="preserve" class="">
                            <g>
                                <path d="M490.748 146.253c-16.294-27.433-39.185-53.528-54.641-67.218-33.74-29.893-61.885-29.165-75.662-26.069-5.788 1.301-11.103 3.446-15.782 6.307C320.624 41.434 291.38 32.695 256 32.695s-64.625 8.739-88.663 26.579c-4.68-2.861-9.994-5.007-15.782-6.307-13.773-3.095-41.922-3.824-75.66 26.068-15.457 13.691-38.347 39.786-54.643 67.219C-.81 183.395-5.724 213.44 6.646 235.557 21.75 262.56 44.66 269.47 63.155 271.174c-4.546 17.655-7.353 36.542-7.353 60.075 0 31.193 7.1 58.029 21.105 79.763 12.311 19.108 30.035 34.409 52.679 45.478 41.838 20.451 92.185 22.816 126.415 22.816s84.578-2.365 126.415-22.816c22.643-11.069 40.368-26.37 52.679-45.478 14.004-21.735 21.105-48.571 21.105-79.763 0-23.532-2.807-42.419-7.353-60.075 18.495-1.705 41.406-8.616 56.509-35.618 12.368-22.115 7.453-52.161-14.608-89.303zm-417.87 94.054c-16.368-.43-29.678-3.599-38.879-20.048-6.242-11.161-1.067-32.301 14.2-58.002 14.489-24.393 35.286-48.079 48.478-59.766 21.786-19.304 38.118-20.367 45.802-19.338-22.867 27.876-36.883 64.104-48.604 99.327-4.854 14.586-9.532 27.039-14.058 39.084-2.42 6.444-4.748 12.642-6.939 18.743zm162.677 102.75c-8.107-8.103-12.35-16.609-12.35-20.823 0-3.763.645-4.033 3.042-5.042 6.833-2.875 20.253-3.207 29.753-3.207s22.92.332 29.753 3.207c2.397 1.008 3.042 1.28 3.042 5.042 0 4.214-4.242 12.719-12.35 20.823-7.973 7.968-16.484 12.267-20.446 12.267s-12.471-4.299-20.444-12.267zm133.098 85.278c-24.051 11.755-55.889 18.131-96.983 19.394v-64.194c12.304-4.748 22.324-13.708 26.93-18.311 6.475-6.471 21.535-23.615 21.535-42.989 0-15.849-7.894-27.899-22.228-33.929-9.554-4.02-21.696-5.66-41.906-5.66s-32.352 1.64-41.907 5.66c-14.333 6.03-22.228 18.079-22.228 33.929 0 19.374 15.061 36.517 21.535 42.989 4.606 4.604 14.627 13.564 26.93 18.311v64.194c-41.094-1.262-72.932-7.637-96.983-19.394-37.822-18.488-56.208-50.245-56.208-97.086 0-40.072 9.234-64.649 22.013-98.664 4.413-11.745 9.413-25.057 14.456-40.21C151.309 109.139 180.611 64.034 256 64.034s104.691 45.106 132.39 128.341c5.042 15.154 10.044 28.465 14.456 40.21 12.779 34.015 22.013 58.591 22.013 98.664.001 46.841-18.385 78.598-56.206 97.086zm109.35-208.076c-9.202 16.451-22.512 19.617-38.88 20.048-2.192-6.102-4.518-12.299-6.938-18.743-4.525-12.044-9.203-24.498-14.058-39.084-11.721-35.223-25.737-71.451-48.604-99.327 7.684-1.027 24.017.034 45.804 19.339 13.192 11.685 33.988 35.37 48.477 59.763 15.266 25.703 20.441 46.844 14.199 58.004z" fill="#003eaf" opacity="1"></path>
                                <path d="M203.851 199.256c-11.337 0-20.564 9.321-20.564 20.83 0 11.508 9.226 20.837 20.564 20.837 11.352 0 20.577-9.33 20.577-20.837 0-11.509-9.225-20.83-20.577-20.83zM307.995 199.093c-11.447 0-20.733 9.399-20.733 20.993s9.286 20.993 20.733 20.993c11.434 0 20.719-9.399 20.719-20.993.001-11.594-9.285-20.993-20.719-20.993z" fill="#003eaf" opacity="1"></path>
                            </g>
                        </svg>
                        {% else %}
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" x="0" y="0" viewBox="0 0 512.283 512.283" xml:space="preserve" class="">
                            <g>
                                <path d="M510.772 325.501c0-7.61-6.028-39.526-23.445-74.359 4.631-59.524 10.609-205.483-32.539-246.585A16.003 16.003 0 0 0 439.987.591c-57.878 14.01-105.409 54.996-127.823 110.304-37.807-8.896-74.552-9.077-111.582-.113-.592.143-28.855-86.24-127.795-110.191a16.008 16.008 0 0 0-14.801 3.966C6.619 53.492 25.666 249.794 25.282 250.501c0 1.335-18.276 30.641-23.824 75.456-5.559 40.645 6.564 69.17 6.564 70.184 33.266 92.617 149.442 116 248.12 116 98.616 0 215.014-23.421 248.12-116 0-.1 12.197-31.593 6.51-70.64zM437.858 34.369c26.207 42.998 19.972 171.353 19.884 171.252-31.873-39.878-72.602-68.749-114.935-85.098 18.044-42.454 53.425-73.131 95.051-86.154zm-362.946-.001c41.669 13.032 76.98 43.738 94.993 85.996-42.572 16.315-83.278 45.291-115.001 84.806-1.419-42.162-1.894-134.925 20.008-170.802zm343.22 413.254c-79.273 43.603-244.647 43.636-323.98 0-19.47-10.71-34.4-23.91-44.73-39.48h46.72c8.836 0 16-7.163 16-16s-7.164-16-16-16h-60.67c-2.553-10.385-3.58-21.471-3.29-32h63.96c8.836 0 16-7.163 16-16s-7.164-16-16-16h-59.84c16.3-70.929 78.144-141.59 158.969-166.718 129.529-40.208 255.676 57.775 280.712 166.718h-59.84c-8.837 0-16 7.163-16 16s7.163 16 16 16h63.96c.29 10.52-.735 21.607-3.29 32h-60.67c-8.837 0-16 7.163-16 16s7.163 16 16 16h46.72c-10.331 15.569-25.261 28.77-44.731 39.48z" fill="#287c00" opacity="1"></path>
                                <path d="M344.142 388.142c-8.837 0-16 7.163-16 16 0 15.439-12.561 28-28 28-12.707 0-23.457-8.512-26.866-20.131 26.835-13.22 41.102-56.091 22.366-74.678-11.077-10.991-27.099-9.075-43.606-9.213-12.731-.09-25.905-.202-35.394 9.213-18.945 18.796-4.197 61.592 22.366 74.678-3.409 11.619-14.159 20.131-26.866 20.131-15.439 0-28-12.561-28-28 0-8.837-7.164-16-16-16s-16 7.163-16 16c0 54.645 67.135 80.525 104 40.735 36.846 39.769 104 13.95 104-40.735 0-8.837-7.163-16-16-16zm-72.002-27.726c-.151 11.286-9.587 23.726-15.998 23.726s-15.847-12.439-15.998-23.726c3.783-.455 28.554-.415 31.996 0zM180.142 296.142c15.44 0 28-12.56 28-28s-12.56-28-28-28-28 12.56-28 28 12.56 28 28 28zM332.142 240.142c-15.44 0-28 12.56-28 28s12.56 28 28 28 28-12.56 28-28-12.56-28-28-28z" fill="#287c00" opacity="1"></path>
                            </g>
                        </svg>
                        {% endif %}
                    </li>
                    {% endfor %}
                </ul><br>
                <a href="#" class="btn btn-primary">Novo pet</a>
            </div>
        </div>-->

        <div class="card m-3" id="card-notificacoes" {% if opcao != '2' %} style="display: none;" {% endif %}>
            <div class="card-header">
            Favoritos
            </div>
            <div class="card-body">
                <ul class="list-group">
                    <li class="list-group-item d-flex justify-content-between">
                        <a href="#">Niko</a>
                        <label>20/02/2020</label>
                    </li>
                    <li class="list-group-item d-flex justify-content-between">
                        <a href="#">Zezim </a>
                        <label>20/02/2020</label>
                    </li>
                </ul>
            </div>
        </div>
        <!--<img src="{{ request.session.user_data.picture }}" alt="User picture">-->
    </div>
</div>
{% endblock %}